!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.NanoSock=t():n.NanoSock=t()}(this,function(){return function(n){function t(e){if(r[e])return r[e].exports;var u=r[e]={exports:{},id:e,loaded:!1};return n[e].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var r={};return t.m=n,t.c=r,t.p="",t(0)}([function(n,t,r){n.exports=r(23)},function(n,t,r){var e=r(16),u=r(17),o=r(19),i=Object.keys,a=!{toString:null}.propertyIsEnumerable("toString"),c=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];n.exports=function(n){if(!o(n))return[];if(i)return i(n);var t=[];for(var r in n)e(n,r)&&t.push(r);if(a)for(var l=c.length;l--;){var f=c[l];e(n,f)&&-1===u(t,f)&&t.push(f)}return t}},function(n){var t=Object.prototype.toString;n.exports=function(n){return"[object Number]"===t.call(n)}},function(n,t,r){var e=r(21),u=r(22),o=r(1),i=r(11),a=r(7),c=(r(4),r(9)),l=Array.prototype.slice,f=/\s+/,s={on:function(n,t,r){if(!p(this,"on",n,[t,r])||!t)return this;this._events||(this._events={});var e=this._events[n]||(this._events[n]=[]);return e.push({callback:t,context:r,ctx:r||this}),this},once:function(n,t,r){if(!p(this,"once",n,[t,r])||!t)return this;var u=this,o=e(function(){u.off(n,o),t.apply(this,arguments)});return o._callback=t,this.on(n,o,r)},off:function(n,t,r){var e,u,i,a,c,l,f,s;if(!this._events||!p(this,"off",n,[t,r]))return this;if(!n&&!t&&!r)return this._events=void 0,this;for(a=n?[n]:o(this._events),c=0,l=a.length;l>c;c++)if(n=a[c],i=this._events[n]){if(this._events[n]=e=[],t||r)for(f=0,s=i.length;s>f;f++)u=i[f],(t&&t!==u.callback&&t!==u.callback._callback||r&&r!==u.context)&&e.push(u);e.length||delete this._events[n]}return this},trigger:function(n){if(!this._events)return this;var t=l.call(arguments,1);if(!p(this,"trigger",n,t))return this;var r=this._events[n],e=this._events.all;return r&&h(r,t),e&&h(e,arguments),this},stopListening:function(n,t,r){var e=this._listeningTo;if(!e)return this;var u=!t&&!r;r||"object"!=typeof t||(r=this),n&&((e={})[n._listenId]=n);for(var o in e)n=e[o],n.off(t,r,this),(u||i(n._events))&&delete this._listeningTo[o];return this},createEmitter:function(n){return c(n||{},s)}},p=function(n,t,r,e){if(!r)return!0;if("object"==typeof r){for(var u in r)n[t].apply(n,[u,r[u]].concat(e));return!1}if(f.test(r)){for(var o=r.split(f),i=0,a=o.length;a>i;i++)n[t].apply(n,[o[i]].concat(e));return!1}return!0},h=function(n,t){var r,e=-1,u=n.length,o=t[0],i=t[1],a=t[2];switch(t.length){case 0:for(;++e<u;)(r=n[e]).callback.call(r.ctx);return;case 1:for(;++e<u;)(r=n[e]).callback.call(r.ctx,o);return;case 2:for(;++e<u;)(r=n[e]).callback.call(r.ctx,o,i);return;case 3:for(;++e<u;)(r=n[e]).callback.call(r.ctx,o,i,a);return;default:for(;++e<u;)(r=n[e]).callback.apply(r.ctx,t);return}},v={listenTo:"on",listenToOnce:"once"};a(v,function(n,t){s[t]=function(t,r,e){var o=this._listeningTo||(this._listeningTo={}),i=t._listenId||(t._listenId=u("l"));return o[i]=t,e||"object"!=typeof r||(e=this),t[n](r,e,this),this}}),s.listenToAndRun=function(n,t,r){return s.listenTo.apply(this,arguments),r||"object"!=typeof t||(r=this),r.apply(this),this},n.exports=s},function(n,t,r){var e=r(5),u=r(6),o=Function.prototype.bind,i=Array.prototype.slice,a=function(){};n.exports=function(n,t){var r,c;if(o&&n.bind===o)return o.apply(n,i.call(arguments,1));if(!e(n))throw new TypeError("Bind must be called on a function");return r=i.call(arguments,2),c=function(){if(!(this instanceof c))return n.apply(t,r.concat(i.call(arguments)));a.prototype=n.prototype;var e=new a;a.prototype=null;var o=n.apply(e,r.concat(i.call(arguments)));return u(o)?o:e}}},function(n){var t=Object.prototype.toString,r=function(n){return"[object Function]"===t.call(n)};"function"!=typeof/./&&(r=function(n){return"function"==typeof n||!1}),n.exports=r},function(n){n.exports=function(n){var t=typeof n;return!!n&&("function"===t||"object"===t)}},function(n,t,r){var e=r(1),u=r(8);n.exports=function(n,t,r){if(null==n)return n;t=u(t,r);var o,i=n.length;if(i===+i)for(o=0;i>o;o++)t(n[o],o,n);else{var a=e(n);for(o=0,i=a.length;i>o;o++)t(n[a[o]],a[o],n)}return n}},function(n){n.exports=function(n,t,r){if(void 0===t)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)}}return function(){return n.apply(t,arguments)}}},function(n,t,r){var e=r(10);n.exports=function(n){if(!e(n))return n;for(var t,r,u=1,o=arguments.length;o>u;u++){t=arguments[u];for(r in t)n[r]=t[r]}return n}},function(n){n.exports=function(n){var t=typeof n;return!!n&&("function"===t||"object"===t)}},function(n,t,r){var e=r(13),u=r(15),o=r(12),i=r(2),a=r(14),c=r(1);n.exports=function(n){return null==n?!0:e(n)||u(n)||o(n)?0===n.length:i(n)?0===n||a(n):0!==c(n).length?!1:!0}},function(n){var t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,e=function(n){return"[object Arguments]"===t.call(n)};e(arguments)||(e=function(n){return n&&r.call(n,"callee")}),n.exports=e},function(n){var t=Object.prototype.toString,r=Array.isArray;n.exports=r||function(n){return"[object Array]"===t.call(n)}},function(n,t,r){var e=r(2);n.exports=function(n){return e(n)&&n!==+n}},function(n){var t=Object.prototype.toString;n.exports=function(n){return"[object String]"===t.call(n)}},function(n){var t=Object.prototype.hasOwnProperty;n.exports=function(n,r){return null!=n&&t.call(n,r)}},function(n,t,r){var e=r(18);n.exports=function(n,t,r){var u=0,o=n&&n.length;for(e(r)&&(u=0>r?Math.max(0,o+r):r);o>u;u++)if(n[u]===t)return u;return-1}},function(n){var t=Object.prototype.toString;n.exports=function(n){return"[object Number]"===t.call(n)}},function(n){n.exports=function(n){var t=typeof n;return!!n&&("function"===t||"object"===t)}},function(n){n.exports=function(n,t){var r;return function(){return t-->0?r=n.apply(this,arguments):n=null,r}}},function(n,t,r){var e=r(20);n.exports=function(n){return e(n,1)}},function(n,t){(function(t){var r="undefined"!=typeof window?window:t;r.__ampIdCounter||(r.__ampIdCounter=0),n.exports=function(n){var t=++r.__ampIdCounter+"";return n?n+t:t}}).call(t,function(){return this}())},function(n,t,r){var e,u,o;o=r(24),e=r(3),u=function(n){return this instanceof u?(this.options=o.extend({},o.result(this,"options"),n),this.initialize.apply(this,arguments)):new u(n)},o.extend(u.prototype,e,{newSocket:function(){return new WebSocket(this.options.url,this.options.protocol+".sp.nanomsg.org")},send:function(n){return this.socket.send.apply(this.socket,arguments),this.trigger("send",n)},close:function(){return this.socket.close.apply(this.socket,arguments)},options:{url:null,protocol:null,reconnect:!1},initialize:function(){if(!WebSocket)throw new Error("no WebSocket! please use a browser that has WebSocket support.");if(null==this.options.url)throw new Error("no url! please provide a url.");if(null==this.options.protocol)throw new Error("no protocol! please provide a protocol.");return this.socket=this.newSocket(),o.each(["open","close","message","error"],function(n){return function(t){var r;return r="on"+t,n.socket[r]=function(){return"message"===t||"error"===t?n.trigger(t,arguments[0]):n.trigger(t)}}}(this)),"undefined"!=typeof window&&null!==window&&"function"==typeof window.addEventListener?window.addEventListener("beforeunload",function(n){return function(){return n.socket.close()}}(this)):void 0}}),n.exports=u},function(n,t){var r,e;(function(){function u(n){function t(t,r,e,u,o,i){for(;o>=0&&i>o;o+=n){var a=u?u[o]:o;e=r(e,t[a],a,t)}return e}return function(r,e,u,o){e=_(e,o,4);var i=!A(r)&&x.keys(r),a=(i||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[i?i[c]:c],c+=n),t(r,e,u,i,c,a)}}function o(n){return function(t,r,e){r=w(r,e);for(var u=null!=t&&t.length,o=n>0?0:u-1;o>=0&&u>o;o+=n)if(r(t[o],o,t))return o;return-1}}var i=this,a=i._,c=Array.prototype,l=Object.prototype,f=Function.prototype,s=c.push,p=c.slice,h=l.toString,v=l.hasOwnProperty,g=Array.isArray,y=Object.keys,d=f.bind,m=Object.create,b=function(){},x=function(n){return n instanceof x?n:this instanceof x?void(this._wrapped=n):new x(n)};"undefined"!=typeof n&&n.exports&&(t=n.exports=x),t._=x,x.VERSION="1.8.1";var _=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,o){return n.call(t,r,e,u,o)}}return function(){return n.apply(t,arguments)}},w=function(n,t,r){return null==n?x.identity:x.isFunction(n)?_(n,t,r):x.isObject(n)?x.matcher(n):x.property(n)};x.iteratee=function(n,t){return w(n,t,1/0)};var j=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var o=arguments[u],i=n(o),a=i.length,c=0;a>c;c++){var l=i[c];t&&void 0!==r[l]||(r[l]=o[l])}return r}},k=function(n){if(!x.isObject(n))return{};if(m)return m(n);b.prototype=n;var t=new b;return b.prototype=null,t},O=Math.pow(2,53)-1,A=function(n){var t=n&&n.length;return"number"==typeof t&&t>=0&&O>=t};x.each=x.forEach=function(n,t,r){t=_(t,r);var e,u;if(A(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var o=x.keys(n);for(e=0,u=o.length;u>e;e++)t(n[o[e]],o[e],n)}return n},x.map=x.collect=function(n,t,r){t=w(t,r);for(var e=!A(n)&&x.keys(n),u=(e||n).length,o=Array(u),i=0;u>i;i++){var a=e?e[i]:i;o[i]=t(n[a],a,n)}return o},x.reduce=x.foldl=x.inject=u(1),x.reduceRight=x.foldr=u(-1),x.find=x.detect=function(n,t,r){var e;return e=A(n)?x.findIndex(n,t,r):x.findKey(n,t,r),void 0!==e&&-1!==e?n[e]:void 0},x.filter=x.select=function(n,t,r){var e=[];return t=w(t,r),x.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},x.reject=function(n,t,r){return x.filter(n,x.negate(w(t)),r)},x.every=x.all=function(n,t,r){t=w(t,r);for(var e=!A(n)&&x.keys(n),u=(e||n).length,o=0;u>o;o++){var i=e?e[o]:o;if(!t(n[i],i,n))return!1}return!0},x.some=x.any=function(n,t,r){t=w(t,r);for(var e=!A(n)&&x.keys(n),u=(e||n).length,o=0;u>o;o++){var i=e?e[o]:o;if(t(n[i],i,n))return!0}return!1},x.contains=x.includes=x.include=function(n,t){return A(n)||(n=x.values(n)),x.indexOf(n,t)>=0},x.invoke=function(n,t){var r=p.call(arguments,2),e=x.isFunction(t);return x.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},x.pluck=function(n,t){return x.map(n,x.property(t))},x.where=function(n,t){return x.filter(n,x.matcher(t))},x.findWhere=function(n,t){return x.find(n,x.matcher(t))},x.max=function(n,t,r){var e,u,o=-1/0,i=-1/0;if(null==t&&null!=n){n=A(n)?n:x.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>o&&(o=e)}else t=w(t,r),x.each(n,function(n,r,e){u=t(n,r,e),(u>i||u===-1/0&&o===-1/0)&&(o=n,i=u)});return o},x.min=function(n,t,r){var e,u,o=1/0,i=1/0;if(null==t&&null!=n){n=A(n)?n:x.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],o>e&&(o=e)}else t=w(t,r),x.each(n,function(n,r,e){u=t(n,r,e),(i>u||1/0===u&&1/0===o)&&(o=n,i=u)});return o},x.shuffle=function(n){for(var t,r=A(n)?n:x.values(n),e=r.length,u=Array(e),o=0;e>o;o++)t=x.random(0,o),t!==o&&(u[o]=u[t]),u[t]=r[o];return u},x.sample=function(n,t,r){return null==t||r?(A(n)||(n=x.values(n)),n[x.random(n.length-1)]):x.shuffle(n).slice(0,Math.max(0,t))},x.sortBy=function(n,t,r){return t=w(t,r),x.pluck(x.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index-t.index}),"value")};var S=function(n){return function(t,r,e){var u={};return r=w(r,e),x.each(t,function(e,o){var i=r(e,o,t);n(u,e,i)}),u}};x.groupBy=S(function(n,t,r){x.has(n,r)?n[r].push(t):n[r]=[t]}),x.indexBy=S(function(n,t,r){n[r]=t}),x.countBy=S(function(n,t,r){x.has(n,r)?n[r]++:n[r]=1}),x.toArray=function(n){return n?x.isArray(n)?p.call(n):A(n)?x.map(n,x.identity):x.values(n):[]},x.size=function(n){return null==n?0:A(n)?n.length:x.keys(n).length},x.partition=function(n,t,r){t=w(t,r);var e=[],u=[];return x.each(n,function(n,r,o){(t(n,r,o)?e:u).push(n)}),[e,u]},x.first=x.head=x.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:x.initial(n,n.length-t)},x.initial=function(n,t,r){return p.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},x.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:x.rest(n,Math.max(0,n.length-t))},x.rest=x.tail=x.drop=function(n,t,r){return p.call(n,null==t||r?1:t)},x.compact=function(n){return x.filter(n,x.identity)};var E=function(n,t,r,e){for(var u=[],o=0,i=e||0,a=n&&n.length;a>i;i++){var c=n[i];if(A(c)&&(x.isArray(c)||x.isArguments(c))){t||(c=E(c,t,r));var l=0,f=c.length;for(u.length+=f;f>l;)u[o++]=c[l++]}else r||(u[o++]=c)}return u};x.flatten=function(n,t){return E(n,t,!1)},x.without=function(n){return x.difference(n,p.call(arguments,1))},x.uniq=x.unique=function(n,t,r,e){if(null==n)return[];x.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=w(r,e));for(var u=[],o=[],i=0,a=n.length;a>i;i++){var c=n[i],l=r?r(c,i,n):c;t?(i&&o===l||u.push(c),o=l):r?x.contains(o,l)||(o.push(l),u.push(c)):x.contains(u,c)||u.push(c)}return u},x.union=function(){return x.uniq(E(arguments,!0,!0))},x.intersection=function(n){if(null==n)return[];for(var t=[],r=arguments.length,e=0,u=n.length;u>e;e++){var o=n[e];if(!x.contains(t,o)){for(var i=1;r>i&&x.contains(arguments[i],o);i++);i===r&&t.push(o)}}return t},x.difference=function(n){var t=E(arguments,!0,!0,1);return x.filter(n,function(n){return!x.contains(t,n)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(n){for(var t=n&&x.max(n,"length").length||0,r=Array(t),e=0;t>e;e++)r[e]=x.pluck(n,e);return r},x.object=function(n,t){for(var r={},e=0,u=n&&n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},x.indexOf=function(n,t,r){var e=0,u=n&&n.length;if("number"==typeof r)e=0>r?Math.max(0,u+r):r;else if(r&&u)return e=x.sortedIndex(n,t),n[e]===t?e:-1;if(t!==t)return x.findIndex(p.call(n,e),x.isNaN);for(;u>e;e++)if(n[e]===t)return e;return-1},x.lastIndexOf=function(n,t,r){var e=n?n.length:0;if("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1)),t!==t)return x.findLastIndex(p.call(n,0,e),x.isNaN);for(;--e>=0;)if(n[e]===t)return e;return-1},x.findIndex=o(1),x.findLastIndex=o(-1),x.sortedIndex=function(n,t,r,e){r=w(r,e,1);for(var u=r(t),o=0,i=n.length;i>o;){var a=Math.floor((o+i)/2);r(n[a])<u?o=a+1:i=a}return o},x.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),o=0;e>o;o++,n+=r)u[o]=n;return u};var I=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var o=k(n.prototype),i=n.apply(o,u);return x.isObject(i)?i:o};x.bind=function(n,t){if(d&&n.bind===d)return d.apply(n,p.call(arguments,1));if(!x.isFunction(n))throw new TypeError("Bind must be called on a function");var r=p.call(arguments,2),e=function(){return I(n,e,t,this,r.concat(p.call(arguments)))};return e},x.partial=function(n){var t=p.call(arguments,1),r=function(){for(var e=0,u=t.length,o=Array(u),i=0;u>i;i++)o[i]=t[i]===x?arguments[e++]:t[i];for(;e<arguments.length;)o.push(arguments[e++]);return I(n,r,this,this,o)};return r},x.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=x.bind(n[r],n);return n},x.memoize=function(n,t){var r=function(e){var u=r.cache,o=""+(t?t.apply(this,arguments):e);return x.has(u,o)||(u[o]=n.apply(this,arguments)),u[o]};return r.cache={},r},x.delay=function(n,t){var r=p.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},x.defer=x.partial(x.delay,x,1),x.throttle=function(n,t,r){var e,u,o,i=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:x.now(),i=null,o=n.apply(e,u),i||(e=u=null)};return function(){var l=x.now();a||r.leading!==!1||(a=l);var f=t-(l-a);return e=this,u=arguments,0>=f||f>t?(i&&(clearTimeout(i),i=null),a=l,o=n.apply(e,u),i||(e=u=null)):i||r.trailing===!1||(i=setTimeout(c,f)),o}},x.debounce=function(n,t,r){var e,u,o,i,a,c=function(){var l=x.now()-i;t>l&&l>=0?e=setTimeout(c,t-l):(e=null,r||(a=n.apply(o,u),e||(o=u=null)))};return function(){o=this,u=arguments,i=x.now();var l=r&&!e;return e||(e=setTimeout(c,t)),l&&(a=n.apply(o,u),o=u=null),a}},x.wrap=function(n,t){return x.partial(t,n)},x.negate=function(n){return function(){return!n.apply(this,arguments)}},x.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},x.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},x.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},x.once=x.partial(x.before,2),x.keys=function(n){if(!x.isObject(n))return[];if(y)return y(n);var t=[];for(var r in n)x.has(n,r)&&t.push(r);return t},x.allKeys=function(n){if(!x.isObject(n))return[];var t=[];for(var r in n)t.push(r);return t},x.values=function(n){for(var t=x.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},x.mapObject=function(n,t,r){t=w(t,r);for(var e,u=x.keys(n),o=u.length,i={},a=0;o>a;a++)e=u[a],i[e]=t(n[e],e,n);return i},x.pairs=function(n){for(var t=x.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},x.invert=function(n){for(var t={},r=x.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},x.functions=x.methods=function(n){var t=[];for(var r in n)x.isFunction(n[r])&&t.push(r);return t.sort()},x.extend=j(x.allKeys),x.extendOwn=j(x.keys),x.findKey=function(n,t,r){t=w(t,r);for(var e,u=x.keys(n),o=0,i=u.length;i>o;o++)if(e=u[o],t(n[e],e,n))return e},x.pick=function(n,t,r){var e,u={};if(null==n)return u;if(x.isFunction(t)){t=_(t,r);for(var o=x.allKeys(n),i=0;i<o.length;i++){var e=o[i],a=n[e];t(a,e,n)&&(u[e]=a)}}else{var o=E(arguments,!1,!1,1);n=new Object(n);for(var i=0,c=o.length;c>i;i++)e=o[i],e in n&&(u[e]=n[e])}return u},x.omit=function(n,t,r){if(x.isFunction(t))t=x.negate(t);else{var e=x.map(E(arguments,!1,!1,1),String);t=function(n,t){return!x.contains(e,t)}}return x.pick(n,t,r)},x.defaults=j(x.allKeys,!0),x.clone=function(n){return x.isObject(n)?x.isArray(n)?n.slice():x.extend({},n):n},x.tap=function(n,t){return t(n),n},x.isMatch=function(n,t){var r=x.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),o=0;e>o;o++){var i=r[o];if(t[i]!==u[i]||!(i in u))return!1}return!0};var F=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof x&&(n=n._wrapped),t instanceof x&&(t=t._wrapped);var u=h.call(n);if(u!==h.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var o="[object Array]"===u;if(!o){if("object"!=typeof n||"object"!=typeof t)return!1;var i=n.constructor,a=t.constructor;if(i!==a&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),o){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!F(n[c],t[c],r,e))return!1}else{var l,f=x.keys(n);if(c=f.length,x.keys(t).length!==c)return!1;for(;c--;)if(l=f[c],!x.has(t,l)||!F(n[l],t[l],r,e))return!1}return r.pop(),e.pop(),!0};x.isEqual=function(n,t){return F(n,t)},x.isEmpty=function(n){return null==n?!0:A(n)&&(x.isArray(n)||x.isString(n)||x.isArguments(n))?0===n.length:0===x.keys(n).length},x.isElement=function(n){return!(!n||1!==n.nodeType)},x.isArray=g||function(n){return"[object Array]"===h.call(n)},x.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){x["is"+n]=function(t){return h.call(t)==="[object "+n+"]"}}),x.isArguments(arguments)||(x.isArguments=function(n){return x.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(n){return"function"==typeof n||!1}),x.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},x.isNaN=function(n){return x.isNumber(n)&&n!==+n},x.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===h.call(n)},x.isNull=function(n){return null===n},x.isUndefined=function(n){return void 0===n},x.has=function(n,t){return null!=n&&v.call(n,t)},x.noConflict=function(){return i._=a,this},x.identity=function(n){return n},x.constant=function(n){return function(){return n}},x.noop=function(){},x.property=function(n){return function(t){return null==t?void 0:t[n]}},x.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},x.matcher=x.matches=function(n){return n=x.extendOwn({},n),function(t){return x.isMatch(t,n)}},x.times=function(n,t,r){var e=Array(Math.max(0,n));t=_(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},x.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},x.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=x.invert(N),M=function(n){var t=function(t){return n[t]},r="(?:"+x.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};x.escape=M(N),x.unescape=M(T),x.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),x.isFunction(e)?e.call(n):e};var B=0;x.uniqueId=function(n){var t=++B+"";return n?n+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\u2028|\u2029/g,K=function(n){return"\\"+z[n]};x.template=function(n,t,r){!t&&r&&(t=r),t=x.defaults({},t,x.templateSettings);var e=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),u=0,o="__p+='";n.replace(e,function(t,r,e,i,a){return o+=n.slice(u,a).replace(q,K),u=a+t.length,r?o+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?o+="'+\n((__t=("+e+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var i=new Function(t.variable||"obj","_",o)}catch(a){throw a.source=o,a}var c=function(n){return i.call(this,n,x)},l=t.variable||"obj";return c.source="function("+l+"){\n"+o+"}",c},x.chain=function(n){var t=x(n);return t._chain=!0,t};var L=function(n,t){return n._chain?x(t).chain():t};x.mixin=function(n){x.each(x.functions(n),function(t){var r=x[t]=n[t];x.prototype[t]=function(){var n=[this._wrapped];return s.apply(n,arguments),L(this,r.apply(x,n))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=c[n];x.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],L(this,r)}}),x.each(["concat","join","slice"],function(n){var t=c[n];x.prototype[n]=function(){return L(this,t.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],e=function(){return x}.apply(t,r),!(void 0!==e&&(n.exports=e))}).call(this)}])});